<div class="min-vh-100 d-flex align-center justify-center bg-gray-50 p-4">
  <div class="w-100" style="max-width: 540px;">
    <div class="bg-white rounded-xl shadow-lg p-8">
      
      <!-- Logo / Brand -->
      <div class="text-center mb-8">
        <h1 class="text-3xl fw-bold text-gray-900 mb-2">ğŸ‹ï¸ Fitness Booking</h1>
        <p class="text-base text-gray-600">Crea tu cuenta</p>
      </div>

      <!-- Error message -->
      @if (errorMessage()) {
        <div class="rounded-lg p-4 mb-6 d-flex gap-3" style="background-color: rgba(239, 68, 68, 0.1); border: 1px solid var(--color-danger-200);">
          <span style="font-size: 1.25rem;">âš ï¸</span>
          <span class="text-sm" style="color: var(--color-danger-700);">{{ errorMessage() }}</span>
        </div>
      }

      <!-- Register Form -->
      <form [formGroup]="form" (ngSubmit)="onSubmit()" class="d-flex flex-column gap-5">
      
        <!-- Role selector -->
        <div class="mb-6">
          <p class="text-sm fw-medium text-gray-900 mb-3">Â¿CÃ³mo quieres usar Fitness Booking?</p>
          
          <div class="d-grid grid-cols-2 gap-3">
            <!-- Business Owner -->
            <button
              type="button"
              class="role-card d-flex flex-column align-center text-center p-5 border rounded-lg bg-white"
              [class.role-card--selected]="selectedRole() === UserRole.BUSINESS_OWNER"
              (click)="selectRole(UserRole.BUSINESS_OWNER)"
            >
              <span class="text-4xl mb-2">ğŸ¢</span>
              <span class="text-base fw-semibold text-gray-900 mb-1">DueÃ±o de Negocio</span>
              <span class="text-sm text-gray-600">Gestiona tu box y clases</span>
            </button>

            <!-- Athlete -->
            <button
              type="button"
              class="role-card d-flex flex-column align-center text-center p-5 border rounded-lg bg-white"
              [class.role-card--selected]="selectedRole() === UserRole.ATHLETE"
              (click)="selectRole(UserRole.ATHLETE)"
            >
              <span class="text-4xl mb-2">ğŸƒ</span>
              <span class="text-base fw-semibold text-gray-900 mb-1">Atleta</span>
              <span class="text-sm text-gray-600">Reserva clases en tu box</span>
            </button>
          </div>
        </div>

      <!-- Full Name -->
      <fb-form-field label="Nombre completo" inputId="fullName" [required]="true">
        <fb-input
          type="text"
          inputId="fullName"
          name="fullName"
          placeholder="Juan PÃ©rez"
          autocomplete="name"
          formControlName="fullName"
          [error]="getFieldError('fullName')"
        ></fb-input>
      </fb-form-field>

      <!-- Email -->
      <fb-form-field label="Email" inputId="email" [required]="true">
        <fb-input
          type="email"
          inputId="email"
          name="email"
          placeholder="correo@ejemplo.com"
          autocomplete="email"
          formControlName="email"
          [error]="getFieldError('email')"
        ></fb-input>
      </fb-form-field>

      <!-- Phone (opcional) -->
      <fb-form-field label="TelÃ©fono" inputId="phone" hint="Opcional">
        <fb-input
          type="tel"
          inputId="phone"
          name="phone"
          placeholder="+34 600 123 456"
          autocomplete="tel"
          formControlName="phone"
        ></fb-input>
      </fb-form-field>

      <!-- Password -->
      <fb-form-field label="ContraseÃ±a" inputId="password" [required]="true">
        <fb-input
          type="password"
          inputId="password"
          name="password"
          placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
          autocomplete="new-password"
          formControlName="password"
          [error]="getFieldError('password')"
        ></fb-input>
      </fb-form-field>

      <!-- Confirm Password -->
      <fb-form-field label="Confirmar contraseÃ±a" inputId="confirmPassword" [required]="true">
        <fb-input
          type="password"
          inputId="confirmPassword"
          name="confirmPassword"
          placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
          autocomplete="new-password"
          formControlName="confirmPassword"
          [error]="getFieldError('confirmPassword')"
        ></fb-input>
      </fb-form-field>

        <!-- Terms checkbox -->
        <div class="mb-6">
          <label class="d-flex align-start gap-2" style="cursor: pointer;">
            <input type="checkbox" formControlName="acceptTerms" style="margin-top: 2px; cursor: pointer;" />
            <span class="text-sm text-gray-600">
              Acepto los <a href="#" class="text-primary fw-medium" style="text-decoration: none;">tÃ©rminos y condiciones</a>
            </span>
          </label>
          @if (form.get('acceptTerms')?.touched && form.get('acceptTerms')?.errors) {
            <p class="text-danger text-sm mt-1">Debes aceptar los tÃ©rminos y condiciones</p>
          }
        </div>

        <!-- Submit button -->
        <fb-button
          type="submit"
          variant="primary"
          size="md"
          [fullWidth]="true"
          [loading]="isLoading()"
          [disabled]="isLoading()"
        >
          {{ isLoading() ? 'Creando cuenta...' : 'Crear cuenta' }}
        </fb-button>

        <!-- Login link -->
        <div class="text-center d-flex align-center justify-center gap-2">
          <span class="text-gray-600">Â¿Ya tienes cuenta?</span>
          <a routerLink="/auth/login" class="text-primary fw-medium" style="text-decoration: none;">
            Inicia sesiÃ³n
          </a>
        </div>
      </form>
    </div>
  </div>
</div>

